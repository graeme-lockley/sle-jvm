-- Translate case with constant unit into lambda
unitToNum v =
    case v of
        () -> 1
-- enrichedAST
Module:
  declarations: [
      LetDeclaration:
        expression:
          LambdaExpression:
            argument:
              IdReferencePattern:
                name: v
                type:
                  TCon:
                    arguments: []
                    name: ()
            expression:
              CallExpression:
                operand:
                  IdReference:
                    name: v
                    type:
                      TCon:
                        arguments: []
                        name: ()
                operator:
                  LambdaExpression:
                    argument:
                      IdReferencePattern:
                        name: $case
                        type:
                          TCon:
                            arguments: []
                            name: ()
                    expression:
                      Bar:
                        expressions: [
                            CallExpression:
                              operand:
                                IdReference:
                                  name: $case
                                  type:
                                    TCon:
                                      arguments: []
                                      name: ()
                              operator:
                                LambdaExpression:
                                  argument:
                                    IdReferencePattern:
                                      name: $v0
                                      type:
                                        TCon:
                                          arguments: []
                                          name: ()
                                  expression:
                                    ConstantInt:
                                      type:
                                        TCon:
                                          arguments: []
                                          name: Int
                                      value: 1
                                  type:
                                    TArr:
                                      domain:
                                        TCon:
                                          arguments: []
                                          name: ()
                                      range:
                                        TCon:
                                          arguments: []
                                          name: Int
                              type:
                                TCon:
                                  arguments: []
                                  name: Int
                            ERROR:
                              type:
                                TCon:
                                  arguments: []
                                  name: Int
                          ]
                        type:
                          TCon:
                            arguments: []
                            name: Int
                    type:
                      TArr:
                        domain:
                          TCon:
                            arguments: []
                            name: ()
                        range:
                          TCon:
                            arguments: []
                            name: Int
                type:
                  TCon:
                    arguments: []
                    name: Int
            type:
              TArr:
                domain:
                  TCon:
                    arguments: []
                    name: ()
                range:
                  TCon:
                    arguments: []
                    name: Int
        name:
          ID:
            name: unitToNum
        scheme:
          Scheme:
            parameters: []
            type:
              TArr:
                domain:
                  TCon:
                    arguments: []
                    name: ()
                range:
                  TCon:
                    arguments: []
                    name: Int
    ]